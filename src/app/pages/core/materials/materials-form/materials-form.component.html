<div *ngIf="!(loaded$ | async)" class="flex-auto card p-fluid col-12">
  <div class="col-12">
    <p-progressBar mode="indeterminate" [hidden]="!loaded"></p-progressBar>
  </div>
  <div class="flex justify-content-between align-items-center p-fluid col-12">
    <h3 *ngIf="!id">Crear Material</h3>
    <h3 *ngIf="id">Actualizar Material {{ id }}</h3>
    <div class="col-fixed">
      <button
        pButton
        *ngIf="id > 0"
        type="button"
        label="Recargar"
        class="p-button-info"
        icon="pi pi-refresh"
        (click)="ngOnInit()"
      ></button>
    </div>
  </div>
  <form class="p-fluid grid col-12" [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="p-fluid grid">
      <div class="field col-12 sm:col-6 md:col-4 md:col-3">
        <span class="p-float-label">
          <input
            id="description"
            type="text"
            pInputText
            formControlName="description"
          />
          <label for="description">Descripción</label>
        </span>
        <small
          appErrorMessage
          [errors]="descriptionField.errors"
          [touched]="descriptionField.touched"
          [dirty]="descriptionField.dirty"
        ></small>
      </div>

      <div class="field col-12 sm:col-6 md:col-4 md:col-3">
        <span class="p-float-label">
          <input
            id="initialExistence"
            type="text"
            pInputText
            formControlName="initialExistence"
          />
          <label for="initialExistence">Existencia inicial</label>
        </span>
        <small
          appErrorMessage
          [errors]="initialExistenceField.errors"
          [touched]="initialExistenceField.touched"
          [dirty]="initialExistenceField.dirty"
        ></small>
      </div>

      <div class="field col-12 sm:col-6 md:col-4 md:col-3">
        <span class="p-float-label">
          <input
            id="annualExistence"
            type="text"
            pInputText
            formControlName="annualExistence"
          />
          <label for="annualExistence">Existencia anual</label>
        </span>
        <small
          appErrorMessage
          [errors]="annualExistenceField.errors"
          [touched]="annualExistenceField.touched"
          [dirty]="annualExistenceField.dirty"
        ></small>
      </div>

      <div class="field col-12 sm:col-6 md:col-4 md:col-3">
        <span class="p-float-label">
          <input
            id="unitValue"
            type="text"
            pInputText
            formControlName="unitValue"
          />
          <label for="unitValue">Valor Unitario</label>
        </span>
        <small
          appErrorMessage
          [errors]="unitValueField.errors"
          [touched]="unitValueField.touched"
          [dirty]="unitValueField.dirty"
        ></small>
      </div>

      <div class="field col-12 sm:col-6 md:col-4 md:col-3">
        <span class="p-float-label">
          <input
            id="totalValue"
            type="text"
            pInputText
            formControlName="totalValue"
          />
          <label for="totalValue">Valor Total</label>
        </span>
        <small
          appErrorMessage
          [errors]="totalValueField.errors"
          [touched]="totalValueField.touched"
          [dirty]="totalValueField.dirty"
        ></small>
      </div>

      <div class="field col-12 sm:col-6 md:col-4 md:col-3">
        <span class="p-float-label">
          <input id="code" type="text" pInputText formControlName="code" />
          <label for="code">Código</label>
        </span>
        <small
          appErrorMessage
          [errors]="codeField.errors"
          [touched]="codeField.touched"
          [dirty]="codeField.dirty"
        ></small>
      </div>

      <div class="p-fluid d-flex justify-content-center col-12">
        <div class="p-fluid col-fixed">
          <button
            pButton
            type="submit"
            icon="pi pi-save"
            class="p-button p-button-success"
            label="Guardar"
          ></button>
        </div>
        <div class="p-fluid col-fixed">
          <button
            pButton
            type="button"
            icon="pi pi-chevron-left"
            class="p-button p-button-warning"
            label="Cancelar"
            (click)="back()"
          ></button>
        </div>
      </div>
    </div>
    <div *ngIf="(loaded$ | async)!" class="field col-12">
      <app-progress-bar [message]="'mesage de prueba'"></app-progress-bar>
    </div>
  </form>
</div>
